{"ast":null,"code":"import { Buffer } from 'buffer';\nconst CLIENT_ID = '79f742e2bb194cc2b9756caebc221c22';\nconst CLIENT_SECRET = '344f257c69ba40458b8780bb44eb14ce';\nconst REDIRECT_URI = 'http://localhost:3000/callback';\nconst SCOPES = ['user-read-private', 'user-read-email', 'user-top-read', 'playlist-read-private', 'playlist-modify-public', 'playlist-modify-private', 'user-library-read', 'user-library-modify'];\nexport const getAuthUrl = () => {\n  return 'https://accounts.spotify.com/authorize?' + `client_id=${CLIENT_ID}&` + `response_type=code&` + `redirect_uri=${encodeURIComponent(REDIRECT_URI)}&` + `scope=${encodeURIComponent(SCOPES.join(' '))}`;\n};\nexport const getAccessToken = async code => {\n  const response = await fetch('https://accounts.spotify.com/api/token', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': 'Basic ' + Buffer.from(CLIENT_ID + ':' + CLIENT_SECRET).toString('base64')\n    },\n    body: `grant_type=authorization_code&code=${code}&redirect_uri=${REDIRECT_URI}`\n  });\n  const data = await response.json();\n  return data.access_token;\n};\nexport const fetchFromSpotify = async (endpoint, token) => {\n  const response = await fetch(`https://api.spotify.com/v1${endpoint}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`\n    }\n  });\n  return response.json();\n};","map":{"version":3,"names":["Buffer","CLIENT_ID","CLIENT_SECRET","REDIRECT_URI","SCOPES","getAuthUrl","encodeURIComponent","join","getAccessToken","code","response","fetch","method","headers","from","toString","body","data","json","access_token","fetchFromSpotify","endpoint","token"],"sources":["C:/Users/gael1/OneDrive/Desktop/spotify/spotify-stats/src/spotifyAuth.js"],"sourcesContent":["import { Buffer } from 'buffer';\r\n\r\nconst CLIENT_ID = '79f742e2bb194cc2b9756caebc221c22';\r\nconst CLIENT_SECRET = '344f257c69ba40458b8780bb44eb14ce';\r\nconst REDIRECT_URI = 'http://localhost:3000/callback';\r\nconst SCOPES = [\r\n  'user-read-private',\r\n  'user-read-email',\r\n  'user-top-read',\r\n  'playlist-read-private',\r\n  'playlist-modify-public',\r\n  'playlist-modify-private',\r\n  'user-library-read',\r\n  'user-library-modify',\r\n];\r\n\r\nexport const getAuthUrl = () => {\r\n  return 'https://accounts.spotify.com/authorize?' +\r\n    `client_id=${CLIENT_ID}&` +\r\n    `response_type=code&` +\r\n    `redirect_uri=${encodeURIComponent(REDIRECT_URI)}&` +\r\n    `scope=${encodeURIComponent(SCOPES.join(' '))}`;\r\n};\r\n\r\nexport const getAccessToken = async (code) => {\r\n  const response = await fetch('https://accounts.spotify.com/api/token', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n      'Authorization': 'Basic ' + Buffer.from(CLIENT_ID + ':' + CLIENT_SECRET).toString('base64')\r\n    },\r\n    body: `grant_type=authorization_code&code=${code}&redirect_uri=${REDIRECT_URI}`\r\n  });\r\n\r\n  const data = await response.json();\r\n  return data.access_token;\r\n};\r\n\r\nexport const fetchFromSpotify = async (endpoint, token) => {\r\n  const response = await fetch(`https://api.spotify.com/v1${endpoint}`, {\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`\r\n    }\r\n  });\r\n  return response.json();\r\n};"],"mappings":"AAAA,SAASA,MAAM,QAAQ,QAAQ;AAE/B,MAAMC,SAAS,GAAG,kCAAkC;AACpD,MAAMC,aAAa,GAAG,kCAAkC;AACxD,MAAMC,YAAY,GAAG,gCAAgC;AACrD,MAAMC,MAAM,GAAG,CACb,mBAAmB,EACnB,iBAAiB,EACjB,eAAe,EACf,uBAAuB,EACvB,wBAAwB,EACxB,yBAAyB,EACzB,mBAAmB,EACnB,qBAAqB,CACtB;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC9B,OAAO,yCAAyC,GAC9C,aAAaJ,SAAS,GAAG,GACzB,qBAAqB,GACrB,gBAAgBK,kBAAkB,CAACH,YAAY,CAAC,GAAG,GACnD,SAASG,kBAAkB,CAACF,MAAM,CAACG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;AACnD,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAOC,IAAI,IAAK;EAC5C,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;IACrEC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,mCAAmC;MACnD,eAAe,EAAE,QAAQ,GAAGb,MAAM,CAACc,IAAI,CAACb,SAAS,GAAG,GAAG,GAAGC,aAAa,CAAC,CAACa,QAAQ,CAAC,QAAQ;IAC5F,CAAC;IACDC,IAAI,EAAE,sCAAsCP,IAAI,iBAAiBN,YAAY;EAC/E,CAAC,CAAC;EAEF,MAAMc,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI,CAACE,YAAY;AAC1B,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,KAAK,KAAK;EACzD,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6BU,QAAQ,EAAE,EAAE;IACpER,OAAO,EAAE;MACP,eAAe,EAAE,UAAUS,KAAK;IAClC;EACF,CAAC,CAAC;EACF,OAAOZ,QAAQ,CAACQ,IAAI,CAAC,CAAC;AACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}