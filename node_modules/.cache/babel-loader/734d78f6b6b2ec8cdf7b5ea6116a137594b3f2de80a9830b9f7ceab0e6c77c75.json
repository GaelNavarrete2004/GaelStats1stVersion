{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gael1\\\\OneDrive\\\\Desktop\\\\spotify\\\\spotify-stats\\\\src\\\\components\\\\Calendar\\\\Calendar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { fetchFromSpotify } from '..';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Calendar({\n  token\n}) {\n  _s();\n  const [followedArtists, setFollowedArtists] = useState([]);\n  const [releases, setReleases] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchFollowedArtists();\n  }, [token]);\n  const fetchFollowedArtists = async () => {\n    setLoading(true);\n    try {\n      const data = await fetchFromSpotify('/me/following?type=artist', token);\n      setFollowedArtists(data.artists.items || []);\n      await fetchNewReleases(data.artists.items || []);\n    } catch (error) {\n      console.error('Error fetching followed artists:', error);\n      setFollowedArtists([]);\n      setReleases([]);\n    }\n    setLoading(false);\n  };\n  const fetchNewReleases = async artists => {\n    const newReleases = await Promise.all(artists.map(artist => fetchFromSpotify(`/artists/${artist.id}/albums?include_groups=album,single&limit=1`, token)));\n    setReleases(newReleases.flatMap(release => release.items));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Pr\\xF3ximos Lanzamientos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando lanzamientos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : releases.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-4\",\n      children: releases.map(release => {\n        var _release$images$;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bg-gray-800 p-4 rounded flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: (_release$images$ = release.images[2]) === null || _release$images$ === void 0 ? void 0 : _release$images$.url,\n            alt: release.name,\n            className: \"w-16 h-16\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold\",\n              children: release.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: release.artists[0].name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400\",\n              children: new Date(release.release_date).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)]\n        }, release.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No se encontraron pr\\xF3ximos lanzamientos.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"L1H9qbKa5CRQqD2iJepgQiH8nBY=\");\n_c = Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["React","useState","useEffect","fetchFromSpotify","jsxDEV","_jsxDEV","Calendar","token","_s","followedArtists","setFollowedArtists","releases","setReleases","loading","setLoading","fetchFollowedArtists","data","artists","items","fetchNewReleases","error","console","newReleases","Promise","all","map","artist","id","flatMap","release","children","className","fileName","_jsxFileName","lineNumber","columnNumber","length","_release$images$","src","images","url","alt","name","Date","release_date","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/gael1/OneDrive/Desktop/spotify/spotify-stats/src/components/Calendar/Calendar.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fetchFromSpotify } from '..'\r\n\r\nexport default function Calendar({ token }) {\r\n  const [followedArtists, setFollowedArtists] = useState([]);\r\n  const [releases, setReleases] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchFollowedArtists();\r\n  }, [token]);\r\n\r\n  const fetchFollowedArtists = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await fetchFromSpotify('/me/following?type=artist', token);\r\n      setFollowedArtists(data.artists.items || []);\r\n      await fetchNewReleases(data.artists.items || []);\r\n    } catch (error) {\r\n      console.error('Error fetching followed artists:', error);\r\n      setFollowedArtists([]);\r\n      setReleases([]);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const fetchNewReleases = async (artists) => {\r\n    const newReleases = await Promise.all(\r\n      artists.map(artist =>\r\n        fetchFromSpotify(`/artists/${artist.id}/albums?include_groups=album,single&limit=1`, token)\r\n      )\r\n    );\r\n    setReleases(newReleases.flatMap(release => release.items));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold mb-4\">Próximos Lanzamientos</h2>\r\n      {loading ? (\r\n        <p>Cargando lanzamientos...</p>\r\n      ) : releases.length > 0 ? (\r\n        <ul className=\"space-y-4\">\r\n          {releases.map(release => (\r\n            <li key={release.id} className=\"bg-gray-800 p-4 rounded flex items-center space-x-4\">\r\n              <img src={release.images[2]?.url} alt={release.name} className=\"w-16 h-16\" />\r\n              <div>\r\n                <p className=\"font-bold\">{release.name}</p>\r\n                <p>{release.artists[0].name}</p>\r\n                <p className=\"text-sm text-gray-400\">{new Date(release.release_date).toLocaleDateString()}</p>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>No se encontraron próximos lanzamientos.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}